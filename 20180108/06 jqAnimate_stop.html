<!DOCTYPE html>
<html>
<head>
          <title>jqAnimate_stop</title>
          <meta charset="utf-8" />
          <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
          <script>
                    $(document).ready(function(){
                              var clearQueue=false;
                              var goToEnd=false;

                              $("#clearQueue").change(function(){
                                        clearQueue=$(this).prop("checked")
                              });

                              $("#goToEnd").change(function(){
                                        goToEnd=$(this).prop("checked");
                              });

                              $("#stopButton").click(function(){
                                        $("#box").stop(clearQueue, goToEnd);
                              });

                              $("#box").css({
                                        width : 100,
                                        height : 100,
                                        background : "red"
                              })

                              setInterval(function(){
                                        $("#box").animate({
                                                  width : 200
                                        },1000).delay(1000).animate({
                                                  width : 100,
                                                  height : 100
                                        },1000);
                              },3000);
                    });
          </script>
</head>
<body>
          <label>clearQueue</label>
          <input id="clearQueue" type="checkbox" />
          <br/>
          <label>goToEnd</label>
          <input id="goToEnd" type="checkbox" />
          <br/>
          <button id="stopButton">STOP</button>

          <div id="box"></div>
</body>
</html>
